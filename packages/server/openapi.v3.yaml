openapi: 3.1.0
info:
  title: Stagehand API
  version: 3.0.5
components:
  schemas: {}
paths:
  /v1/sessions/{id}/act:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                input:
                  anyOf:
                    - type: string
                    - type: object
                      properties:
                        selector:
                          type: string
                        description:
                          type: string
                        method:
                          type: string
                        arguments:
                          type: array
                          items:
                            type: string
                      required:
                        - selector
                        - description
                options:
                  type: object
                  properties:
                    model:
                      anyOf:
                        - type: string
                        - type: object
                          properties:
                            modelName:
                              type: string
                            apiKey:
                              type: string
                            baseURL:
                              type: string
                              format: uri
                          required:
                            - modelName
                    variables:
                      type: object
                      propertyNames:
                        type: string
                      additionalProperties:
                        type: string
                    timeout:
                      type: number
                frameId:
                  type: string
              required:
                - input
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      result: {}
                    required:
                      - result
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/{id}/end:
    post:
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties: {}
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/{id}/extract:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                instruction:
                  type: string
                schema:
                  type: object
                  propertyNames:
                    type: string
                  additionalProperties: {}
                options:
                  type: object
                  properties:
                    model:
                      anyOf:
                        - type: string
                        - type: object
                          properties:
                            modelName:
                              type: string
                            apiKey:
                              type: string
                            baseURL:
                              type: string
                              format: uri
                          required:
                            - modelName
                    timeout:
                      type: number
                    selector:
                      type: string
                frameId:
                  type: string
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      result: {}
                    required:
                      - result
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/{id}/navigate:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                url:
                  type: string
                options:
                  type: object
                  properties:
                    referer:
                      type: string
                    timeout:
                      type: number
                    waitUntil:
                      type: string
                      enum:
                        - load
                        - domcontentloaded
                        - networkidle
                frameId:
                  type: string
              required:
                - url
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      result: {}
                    required:
                      - result
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/{id}/observe:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                instruction:
                  type: string
                options:
                  type: object
                  properties:
                    model:
                      anyOf:
                        - type: string
                        - type: object
                          properties:
                            modelName:
                              type: string
                            apiKey:
                              type: string
                            baseURL:
                              type: string
                              format: uri
                          required:
                            - modelName
                    timeout:
                      type: number
                    selector:
                      type: string
                frameId:
                  type: string
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      result: {}
                    required:
                      - result
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/start:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                modelName:
                  description: Model name
                  example: gpt-4o
                  type: string
                domSettleTimeoutMs:
                  type: number
                verbose:
                  anyOf:
                    - type: number
                      const: 0
                    - type: number
                      const: 1
                    - type: number
                      const: 2
                debugDom:
                  type: boolean
                systemPrompt:
                  type: string
                browserbaseSessionCreateParams:
                  type: object
                  propertyNames:
                    type: string
                  additionalProperties: {}
                browser:
                  type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - local
                        - browserbase
                    cdpUrl:
                      type: string
                    launchOptions:
                      type: object
                      properties:
                        args:
                          type: array
                          items:
                            type: string
                        executablePath:
                          type: string
                        userDataDir:
                          type: string
                        preserveUserDataDir:
                          type: boolean
                        headless:
                          type: boolean
                        devtools:
                          type: boolean
                        chromiumSandbox:
                          type: boolean
                        ignoreDefaultArgs:
                          anyOf:
                            - type: boolean
                            - type: array
                              items:
                                type: string
                        proxy:
                          type: object
                          properties:
                            server:
                              type: string
                            bypass:
                              type: string
                            username:
                              type: string
                            password:
                              type: string
                          required:
                            - server
                        locale:
                          type: string
                        viewport:
                          type: object
                          properties:
                            width:
                              type: number
                            height:
                              type: number
                          required:
                            - width
                            - height
                        deviceScaleFactor:
                          type: number
                        hasTouch:
                          type: boolean
                        ignoreHTTPSErrors:
                          type: boolean
                        cdpUrl:
                          type: string
                        connectTimeoutMs:
                          type: number
                        downloadsPath:
                          type: string
                        acceptDownloads:
                          type: boolean
                      additionalProperties: false
                selfHeal:
                  type: boolean
                waitForCaptchaSolves:
                  type: boolean
                actTimeoutMs:
                  type: number
                browserbaseSessionID:
                  type: string
                experimental:
                  type: boolean
              required:
                - modelName
              additionalProperties: false
        required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      sessionId:
                        description: Session ID
                        example: c4dbf3a9-9a58-4b22-8a1c-9f20f9f9e123
                        type: string
                      available:
                        type: boolean
                      cdpUrl:
                        description: CDP URL
                        example: ws://localhost:3000
                        type: string
                    required:
                      - sessionId
                      - available
                      - cdpUrl
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /v1/sessions/{id}/agentExecute:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                agentConfig:
                  type: object
                  properties:
                    model:
                      anyOf:
                        - type: string
                        - type: object
                          properties:
                            modelName:
                              type: string
                            apiKey:
                              type: string
                            baseURL:
                              type: string
                              format: uri
                          required:
                            - modelName
                    systemPrompt:
                      type: string
                    cua:
                      type: boolean
                executeOptions:
                  type: object
                  properties:
                    instruction:
                      type: string
                    maxSteps:
                      type: number
                    highlightCursor:
                      type: boolean
                  required:
                    - instruction
                frameId:
                  type: string
              required:
                - agentConfig
                - executeOptions
        required: true
      parameters:
        - schema:
            type: string
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    const: true
                  data:
                    type: object
                    properties:
                      result: {}
                    required:
                      - result
                    additionalProperties: false
                required:
                  - success
                  - data
                additionalProperties: false
  /healthz:
    get:
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  timestamp:
                    type: string
                required:
                  - status
                  - timestamp
                additionalProperties: false
  /readyz:
    get:
      responses:
        "200":
          description: Default Response
          content:
            application/json:
              schema:
                type: string
        "503":
          description: Default Response
          content:
            application/json:
              schema:
                type: string
