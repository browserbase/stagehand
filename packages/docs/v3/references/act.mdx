---
title: act()
description: 'Complete API reference for the act() method'
icon: 'arrow-pointer'
---

<CardGroup cols={1}>
<Card title="Act" icon="arrow-pointer" href="/basics/act">
  See how to use act() to perform browser actions
</Card>
</CardGroup>

### Method Signatures

<Tabs>
<Tab title="TypeScript">

```typescript
// String instruction only
await page.act(instruction: string): Promise<ActResult>

// String instruction with options
await page.act(instruction: string, options: ActOptions): Promise<ActResult>

// Execute observed action
await page.act(observeResult: ObserveResult): Promise<ActResult>
```

**ActOptions Interface:**
```typescript
interface ActOptions {
  model?: ModelConfiguration;
  variables?: Record<string, string>;
  timeout?: number;
  page?: PlaywrightPage | PuppeteerPage | PatchrightPage | Page;
}

interface ModelConfiguration {
  provider: string;  // e.g., "openai", "anthropic", "google"
  model: string;     // e.g., "gpt-4o", "claude-3-5-sonnet-20241022", "gemini-2.5-flash"
  apiKey?: string;   // Optional: override default API key
}
```

</Tab>

</Tabs>

### Parameters

<ParamField path="instruction" type="string" required>
  Natural language description of the action to perform. Use `%variableName%` syntax to reference variables.
</ParamField>

<ParamField path="model" type="ModelConfiguration" optional>
  Configure the AI model to use for this action. Supports OpenAI, Anthropic, Google, and other providers.

  <Expandable title="Model Configuration">
    <ParamField path="provider" type="string">
      Model provider (e.g., "openai", "anthropic", "google")
    </ParamField>
    <ParamField path="model" type="string">
      Model name (e.g., "gpt-4o", "claude-3-5-sonnet-20241022", "gemini-2.5-flash")
    </ParamField>
    <ParamField path="apiKey" type="string">
      Optional: API key for the model provider (overrides default)
    </ParamField>
  </Expandable>
</ParamField>

<ParamField path="variables" type="Record<string, string>" optional>
  Key-value pairs for variable substitution using `%variableName%` syntax in your instruction. Variables are **not shared with LLM providers**, making them ideal for sensitive data like passwords and API keys.

  **Example:**
  ```typescript
  await page.act("type %password% into the password field", {
    variables: { password: process.env.USER_PASSWORD }
  });
  ```
</ParamField>

<ParamField path="timeout" type="number" optional>
  Maximum time in milliseconds to wait for the action to complete. Default varies by configuration.
</ParamField>

<ParamField path="page" type="PlaywrightPage | PuppeteerPage | PatchrightPage | Page" optional>
  Optional: Specify which page to perform the action on. Supports multiple browser automation libraries:
  - **Playwright**: Native Playwright Page objects
  - **Puppeteer**: Puppeteer Page objects
  - **Patchright**: Patchright Page objects
  - **Stagehand Page**: Stagehand's wrapped Page object

  If not specified, defaults to the current "active" page in your Stagehand instance.
</ParamField>

<ParamField path="observeResult" type="ObserveResult" optional>
  Previously observed action to execute directly (enables self-healing and caching).
</ParamField>

### Returns `Promise<ActResult>`

<ResponseField name="success" type="boolean">
  Whether the action completed successfully
</ResponseField>

<ResponseField name="message" type="string">
  Human-readable message describing the result
</ResponseField>

<ResponseField name="actionDescription" type="string">
  Description of the action that was performed
</ResponseField>

<ResponseField name="actions" type="Action[]">
  Array of actions that were executed

  <Expandable title="Action">
    <ResponseField name="selector" type="string">
      The CSS selector used to target the element
    </ResponseField>
    <ResponseField name="description" type="string">
      Description of the action
    </ResponseField>
    <ResponseField name="method" type="string">
      The method used (e.g., "click", "fill", "type")
    </ResponseField>
    <ResponseField name="arguments" type="string[]">
      Arguments passed to the method
    </ResponseField>
  </Expandable>
</ResponseField>

**Example Response:**
```json
{
  "success": true,
  "message": "Action completed successfully",
  "actionDescription": "Clicked the submit button",
  "actions": [
    {
      "selector": "button[type='submit']",
      "description": "Submit button at bottom of form",
      "method": "click",
      "arguments": []
    }
  ]
}
```

### Built-in Support

<Note>
**Iframe and Shadow DOM interactions are supported out of the box.** Stagehand automatically handles iframe traversal and shadow DOM elements without requiring additional configuration or flags.
</Note>

### Examples

#### Basic Usage

```typescript
import { Stagehand } from "@browserbasehq/stagehand";

const stagehand = new Stagehand({ env: "LOCAL" });
await stagehand.init();
const page = stagehand.page;

await page.goto("https://example.com");

// Simple action
await page.act("click the login button");
```

#### Using Variables for Sensitive Data

```typescript
// Variables are NOT shared with LLM providers
await page.act("type %username% into the email field", {
  variables: { username: "user@example.com" }
});

await page.act("type %password% into the password field", {
  variables: { password: process.env.USER_PASSWORD }
});

await page.act("click the login button");
```

#### Custom Model Configuration

```typescript
await page.act("choose 'Peach' from the favorite colour dropdown", {
  model: {
    provider: "google",
    model: "gemini-2.5-flash",
    apiKey: process.env.GOOGLE_API_KEY
  },
  timeout: 10000
});
```

#### Multi-Page Support

```typescript
// Create multiple pages
const page1 = stagehand.page;
const page2 = await stagehand.context.newPage();

// Perform actions on specific pages
await page.act("click the first link", { page: page1 });
await page.act("click the second link", { page: page2 });
```

#### Using Observed Actions (Caching)

```typescript
// Observe first to plan the action
const [action] = await page.observe("click the submit button");

// Cache and reuse the action
if (action) {
  await page.act(action);
}

// Later, reuse the same cached action
await page.act(action);
```

### Error Types

- **TimeoutError** - Action exceeded timeout limits
- **ElementNotFoundError** - Target element could not be located
- **ActionFailedError** - Action could not be completed
- **StagehandError** - General Stagehand-specific errors