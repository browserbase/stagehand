# Twitter 自动化工具开发计划

## 状态标识

- 🔴 **待开发** - 尚未开始的任务
- 🟡 **进行中** - 正在进行的任务
- 🟢 **已完成** - 已经完成的任务

## 功能开发

### 基础功能

- 🟢 **Twitter 登录自动化** - 实现自动登录 Twitter 账号，包括处理双因素认证
- 🟢 **用户资料访问** - 自动导航到指定用户的个人资料页面
- 🟢 **域名适配** - 适配 Twitter 新域名 (x.com)
- 🟡 **推文提取** - 从用户页面提取推文内容、时间戳和互动数据

### 监控功能

- 🟡 **定时监控** - 实现定时（每分钟）监控指定用户的最新推文
- 🟡 **多用户监控** - 同时监控多个用户的推文
- 🔴 **多账号回复** - 使用多个 Twitter 账号自动回复新推文
- 🔴 **增量提取** - 只提取上次监控后的新推文
- 🔴 **数据存储** - 将提取的推文保存到本地文件或数据库
- 🔴 **重复检测** - 避免重复提取和存储相同的推文
- 🔴 **错误恢复** - 在监控过程中遇到错误时能够自动恢复

### 高级功能

- 🔴 **关键词过滤** - 根据关键词过滤推文
- 🔴 **通知系统** - 当检测到新推文时发送通知
- 🔴 **会话持久化** - 保存浏览器会话，避免频繁登录
- 🔴 **数据可视化** - 提供简单的界面查看监控结果

## 技术改进

- 🔴 **持久化改进** - 使用 Redis 存储用户列表、账号列表及已回复推文 ID，支持多租户和去重
- 🔴 **性能优化** - 优化脚本性能，减少资源占用
- 🔴 **代码重构** - 重构代码，提高可维护性
- 🔴 **单元测试** - 添加单元测试，确保功能稳定性
- 🔴 **文档完善** - 完善使用文档和开发文档

## 模型推荐

经过最新测试和分析，我们推荐以下2024年最新模型用于不同的任务：

### 网页交互和导航
- **推荐模型**: OpenAI 的 `GPT-4o` 或 `GPT-4.5` 模型
- **原因**: 这些模型在处理复杂网页交互和理解页面结构方面表现卓越，特别是对于 Twitter 这样的动态网站，GPT-4o支持多模态输入和实时响应

### 内容提取和分析
- **推荐模型**: Anthropic 的 `Claude 3.7 Sonnet` 或 OpenAI 的 `GPT-4o`
- **原因**: Claude 3.7 Sonnet是市场上第一个混合推理模型，在结构化数据提取方面表现出色，支持扩展思维功能；GPT-4o在多模态理解和处理方面同样表现优异

### 高性价比选择
- **Anthropic 的 `Claude 3.5 Haiku`**: 速度最快的Claude模型，价格合理（$0.80/$4.00 每百万token），适合需要快速响应的监控任务
- **OpenAI 的 `GPT-4o-mini`**: 性价比高，速度快，功能强大，是替代GPT-3.5系列的理想选择
- **Google 的 `Gemini 2.5 Flash`**: 在复杂任务上提供快速性能，支持200K上下文窗口和多模态输入

### 高级功能需求
- **Google 的 `Gemini 2.5 Pro`**: 最新的Gemini模型，在编码和复杂提示方面表现出色，支持推理能力和交互式模拟
- **OpenAI 的 `o1-preview`**: 具有更高级推理能力的模型，适合需要深度分析的任务

## 技术选型

基于项目需求和模型分析，我们决定采用以下技术栈：

### 核心模型
- **选定模型**: Google 的 `Gemini 2.5 Flash`
- **选型原因**:
  - 多模态能力可以同时处理文本和图像，有助于理解推特界面元素
  - 200K上下文窗口可以处理长页面内容和复杂的推特时间线
  - 快速响应特性非常适合定时监控任务
  - 性价比高，在保证性能的同时控制成本

### 辅助技术
- **网页自动化**: Playwright
- **数据存储**: Redis
- **环境变量**: 使用.env文件存储所有敏感配置

## 下一步计划

1. 完成推文提取功能的调试和优化
2. 设计并实现持久化方案，用于存储目标用户、回复账号及已回复推文 ID
3. 实现同时多用户监控功能，定时（1 分钟）检测最新推文
4. 实现多账号自动回复功能，并记录回复状态
5. 添加增量提取及去重逻辑
6. 实现错误恢复与会话持久化
7. 编写单元测试并完善文档
