---
title: Environment Configuration
sidebarTitle: Environment
---
Stagehand offers two environments for your browser automation needs, Browserbase and Local. Best practices encourage starting with Local for development and proof-of-concepts, and scaling to Browserbase for production and distributed workloads.

| Feature | Browserbase | Local |
| --- | --- | --- |
| Scalability | High (cloud-managed) | Limited (local resources) |
| Stealth Features | Advanced | Basic |
| Proxy Support | Built-in | Manual configuration |
| Session Persistence | Context-based | File-based |
| Geographic Distribution | Multi-region | Single machine |
| Debugging | Session recordings | Direct DevTools access |
| Cost | Usage-based | Infrastructure only |

## Browserbase
Browserbase provides a managed cloud browser infrastructure optimized for web automation at scale. It offers advanced features like stealth mode, proxy support, and persistent contexts.

### Browserbase Setup

The simplest way to get started with Browserbase is to use the default settings. This will create a new session with the default browser settings.

<CodeGroup>
```typescript TypeScript
import { Stagehand } from "@browserbase/stagehand";

const stagehand = new Stagehand({
    env: "BROWSERBASE",
    apiKey: process.env.BROWSERBASE_API_KEY,
    projectId: process.env.BROWSERBASE_PROJECT_ID,
    browserbaseSessionCreateParams: {
        browserSettings: {
          // OPTIONAL: add browser settings here
        },
    },
  });

await stagehand.init();
console.log("Session ID:", stagehand.sessionId);
```
```python Python
import os
from stagehand import Stagehand

stagehand = Stagehand(
    env="BROWSERBASE",
    api_key=os.getenv("BROWSERBASE_API_KEY"),
    project_id=os.getenv("BROWSERBASE_PROJECT_ID"),
    browserbase_session_create_params={ 
        "browser_settings": {
          # OPTIONAL: add browser settings here
        },
    },
)
stagehand.init()
print(f"Session ID: {stagehand.session_id}")
```
</CodeGroup>

<Accordion title="Advanced Browserbase Configuration Example">
<CodeGroup>
```typescript TypeScript
const stagehand = new Stagehand({
  env: "BROWSERBASE",
  apiKey: process.env.BROWSERBASE_API_KEY,
  projectId: process.env.BROWSERBASE_PROJECT_ID,
  browserbaseSessionCreateParams: {
    projectId: process.env.BROWSERBASE_PROJECT_ID!,
    proxies: true,
    region: "us-west-2",
    timeout: 3600, // 1 hour session timeout
    keepAlive: true, // Available on Startup plan
    browserSettings: {
      advancedStealth: true,
      blockAds: true,
      solveCaptchas: true,
      recordSession: false,
      viewport: {
        width: 1920,
        height: 1080,
      },
      fingerprint: {
        browsers: ["chrome", "edge"],
        devices: ["desktop"],
        operatingSystems: ["windows", "macos"],
        locales: ["en-US", "en-GB"],
        httpVersion: 2,
      },
    },
    userMetadata: {
      userId: "automation-user-123",
      environment: "production",
    },
  },
});
```
```python Python
stagehand = Stagehand(
    env="BROWSERBASE",
    api_key=os.getenv("BROWSERBASE_API_KEY"),
    project_id=os.getenv("BROWSERBASE_PROJECT_ID"),
    browserbase_session_create_params={
        "project_id": os.getenv("BROWSERBASE_PROJECT_ID"),
        "proxies": True,
        "region": "us-west-2",
        "timeout": 3600,  # 1 hour session timeout
        "keep_alive": True,  # Available on Startup plan
        "browser_settings": {
            "advanced_stealth": True,
            "block_ads": True,
            "solve_captchas": True,
            "record_session": False,
            "viewport": {
                "width": 1920,
                "height": 1080,
            },
            "fingerprint": {
                "browsers": ["chrome", "edge"],
                "devices": ["desktop"],
                "operating_systems": ["windows", "macos"],
                "locales": ["en-US", "en-GB"],
                "http_version": 2,
            },
        },
        "user_metadata": {
            "user_id": "automation-user-123",
            "environment": "production",
        },
    },
)
```
</CodeGroup>
</Accordion>

<Note>
Find more information about the Browserbase browser settings [here](https://docs.browserbase.com/reference/api/create-a-session).
</Note>

### Resuming Existing Sessions

<CodeGroup>
```typescript TypeScript
const stagehand = new Stagehand({
  env: "BROWSERBASE",
  browserbaseSessionID: "existing-session-uuid-here",
});

await stagehand.init();
console.log("Session ID:", stagehand.sessionId);
```
```python Python
stagehand = Stagehand(
    env="BROWSERBASE",
    browserbase_session_id="existing-session-uuid-here",
)

await stagehand.init()
print(f"Session ID: {stagehand.session_id}")
```
</CodeGroup>

## Local Environment

The local environment runs browsers directly on your machine, providing full control over browser instances and configurations. Ideal for development, debugging, and scenarios requiring custom browser setups.

#### Basic Local Setup

<CodeGroup>
```typescript TypeScript
import { Stagehand } from "@browserbase/stagehand";

const stagehand = new Stagehand({
    env: "LOCAL",
    verbose: 1,
  });
  
await stagehand.init();
console.log("Session ID:", stagehand.sessionId);
```
```python Python
from stagehand import Stagehand

stagehand = Stagehand(
    env="LOCAL",
    verbose=1,
)

await stagehand.init()
print(f"Session ID: {stagehand.session_id}")
```
</CodeGroup>

## Local Browser Configuration

<CodeGroup>
```typescript TypeScript
const stagehand = new Stagehand({
  env: "LOCAL",
  localBrowserLaunchOptions: {
    headless: false, // Show browser window
    devtools: true, // Open developer tools
    viewport: { width: 1280, height: 720 },
    executablePath: '/opt/google/chrome/chrome', // Custom Chrome path
    args: [
      '--no-sandbox',
      '--disable-setuid-sandbox',
      '--disable-web-security',
      '--allow-running-insecure-content',
    ],
    env: {
      NODE_ENV: "development",
      DEBUG: "true",
    },
  },
});
```
```python Python
pythonstagehand = Stagehand(
    env="LOCAL",
    headless=False,  # Show browser window
    local_browser_launch_options={
        "devtools": True,  # Open developer tools
        "viewport": {"width": 1280, "height": 720},
        "executable_path": "/opt/google/chrome/chrome",  # Custom Chrome path
        "args": [
            "--no-sandbox",
            "--disable-setuid-sandbox",
            "--disable-web-security",
            "--allow-running-insecure-content",
        ],
        "env": {
            "NODE_ENV": "development",
            "DEBUG": "true",
        },
    },
)
```
</CodeGroup>